import{r as l,u as p,U as f,R as e,D as x,N as b,E as h}from"./index-H4Aju8zv.js";import{handleUsedGoogle as w}from"./signupPage-VCYHVBmn.js";const E="/assets/img3-nXRMazHr.png",S=()=>{const[a,c]=l.useState({email:"",password:""}),m=p(),[s,r]=l.useState(null);if(l.useContext(f))return m("/explore"),null;const i=n=>{const{name:t,value:o}=n.target;c({...a,[t]:o})},u=async n=>{n.preventDefault();try{const t=await h(a.email,a.password),o=t==null?void 0:t.uid,d=await t.getIdToken();if(o!=null){const g=await(await fetch("https://pralap-f9hz.onrender.com/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:o,idToken:d})})).json();console.log("User logged in successfully:",g)}c({email:"",password:""}),t&&r("success")}catch(t){console.error("SignupPage error:",t.message),t.code==="auth/invalid-credential"?r("passwordError"):t.code==="auth/missing-password"?r("missPassError"):r("error")}};return e.createElement(e.Fragment,null,e.createElement("main",{className:" mx-auto flex min-h-screen w-full items-center justify-center bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${x})`}},e.createElement("form",{onSubmit:u,className:"  mb-8 flex lg:w-1/3  flex-col lg:space-y-12 space-y-8"},e.createElement("div",{className:"w-full transform border-b-2 bg-transparent text-lg duration-300 focus-within:border-custom-dark"},e.createElement("input",{type:"email",name:"email",placeholder:"Email",className:"w-full p-1 border-none text-custom-darkest-tree bg-transparent outline-none focus:outline-none placeholder:text-custom-darker-tree  placeholder:font-serif placeholder:italic",value:a.email,onChange:i})),e.createElement("div",{className:"w-full transform border-b-2 bg-transparent text-lg duration-300 focus-within:border-custom-dark"},e.createElement("input",{type:"password",name:"password",placeholder:"Password",className:" placeholder:font-serif w-full p-1 border-none bg-transparent text-custom-darkest-tree placeholder:text-custom-darker-tree outline-none placeholder:italic  focus:outline-none",value:a.password,onChange:i})),e.createElement("button",{type:"submit",className:"transform w-full mx-auto bg-custom-beige bg-opacity-60 hover:bg-opacity-80 py-2 rounded-full lg:text-xl text-lg font-bold duration-300"},"Login"),e.createElement("div",{className:"flex w-full items-center  text-center lg:text-xl text-base font-extralight text-custom-light"},e.createElement("div",{className:"border w-full "}),e.createElement("div",{className:" mx-1"},"OR"),e.createElement("div",{className:"border w-full "})),e.createElement("button",{className:"transform rounded-full bg-custom-super-light bg-opacity-60 hover:bg-opacity-80  py-2 font-bold duration-300 ",onClick:()=>w()},e.createElement("img",{src:E,alt:"Google Logo",className:"h-6 w-6 m-2 text-gray-500 inline-block"}),"Sign in with google"),s==="success"&&e.createElement("p",{className:"text-center text-green-500"}," Login successful "),s==="passwordError"&&e.createElement("p",{className:"text-center w-full text-red-500"},"Wrong Password/No account found"),s==="emailError"&&e.createElement("p",{className:"text-center w-full text-red-500"},"Email already in use ."),s==="missPassError"&&e.createElement("p",{className:"text-center w-full text-red-500"},"Please enter a password"),e.createElement("p",{className:"text-center  text-lg text-custom-super-light"},"Don't have an account?",e.createElement(b,{className:"font-medium text-blue-600 underline-offset-4 px-2 hover:underline",to:"/signup"},"Sign Up")))))};export{S as default};
